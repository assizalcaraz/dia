{
  "protected_branches": ["main", "master", "production", "prod", "release", "develop"],
  "protected_branches_policy": {
    "main": "fast-forward only / PR required",
    "master": "fast-forward only / PR required",
    "production": "fast-forward only / PR required",
    "prod": "fast-forward only / PR required"
  },
  "commit_tag": "[dia:<area>]",
  "commit_tag_examples": ["[dia:cli]", "[dia:ui]", "[dia:docs]", "[dia:server]", "[dia:api]"],
  "commit_types": ["feat", "fix", "refactor", "docs", "test", "chore", "wip"],
  "commit_type_policies": {
    "wip": {
      "never_tagged": true,
      "never_merged_to_protected": true,
      "requires_squash_or_followup": true,
      "description": "Work in progress - debe ser squasheado o seguido por commit definitivo antes de merge"
    }
  },
  "suspicious_patterns": [
    { "pattern": "docs/scratch/", "rule": "docs_scratch", "severity": "warning" },
    { "pattern": "_test.py", "rule": "test_outside_tests", "severity": "warning" },
    { "pattern": "/*.md", "exclude": "README.md", "rule": "md_in_root", "severity": "error", "description": "Archivos .md en raíz (excepto README.md) violan regla MVP" },
    { "pattern": "data/", "rule": "data_tracked", "severity": "error", "description": "Directorio data/ no debe estar trackeado en repo" },
    { "pattern": ".dia/", "rule": "dia_tracked", "severity": "error", "description": "Directorio .dia/ no debe estar trackeado en repo" },
    { "pattern": "*.zip", "rule": "zip_files", "severity": "error", "description": "Archivos .zip casi siempre son accidentales" }
  ],
  "documentation_scopes": {
    "cli_commands": {
      "description": "Documentación de comandos CLI",
      "paths": [
        "docs/guides/dia-*.md",
        "docs/manual/CAPTURA_ERRORES.md",
        "docs/modules/cli/*.md"
      ],
      "triggers": {
        "changes": ["cli/dia_cli/**/*.py"],
        "notes": [
          "nuevos comandos CLI",
          "cambios en argumentos de comandos",
          "cambios en comportamiento de comandos"
        ]
      }
    },
    "ui_components": {
      "description": "Documentación de componentes UI",
      "paths": [
        "docs/modules/components/*.md",
        "docs/modules/ui/*.md"
      ],
      "triggers": {
        "changes": ["ui/src/components/**/*.svelte"],
        "notes": [
          "nuevos componentes",
          "cambios en props o comportamiento de componentes"
        ]
      }
    },
    "api_endpoints": {
      "description": "Documentación de API",
      "paths": [
        "docs/modules/api/*.md",
        "docs/guides/api-*.md"
      ],
      "triggers": {
        "changes": ["server/api/**/*.py"],
        "notes": [
          "nuevos endpoints",
          "cambios en estructura de respuestas"
        ]
      }
    },
    "workflows": {
      "description": "Documentación de flujos de trabajo",
      "paths": [
        "docs/guides/*.md",
        "docs/README.md"
      ],
      "triggers": {
        "changes": ["docs/guides/**/*.md"],
        "notes": [
          "cambios en flujos documentados",
          "nuevos workflows",
          "actualizaciones de procesos"
        ]
      }
    },
    "architecture": {
      "description": "Documentación de arquitectura y diseño",
      "paths": [
        "docs/overview/*.md",
        "docs/specs/*.md",
        "docs/RESUMEN_DISENO_DIA.md",
        "docs/overview/ESTADO_ACTUAL.md"
      ],
      "triggers": {
        "changes": [
          "docs/overview/**/*.md",
          "docs/specs/**/*.md",
          "docs/RESUMEN_DISENO_DIA.md"
        ],
        "notes": [
          "cambios arquitectónicos significativos",
          "nuevas decisiones de diseño",
          "actualizaciones de estado del proyecto"
        ]
      }
    }
  }
}
