#!/usr/bin/env python3
"""
Helper para commits de Cursor/IA con autoría identificable.
Uso: git commit-cursor -m "mensaje" o ./git-commit-cursor -m "mensaje"
"""
import sys
import subprocess

# Autoría específica para commits de Cursor
CURSOR_NAME = "Cursor Assistant"
CURSOR_EMAIL = "cursor@dia.local"

# Parsear argumentos (soporta -m "mensaje" o mensaje directo)
args = sys.argv[1:]
if not args:
    print("Uso: git commit-cursor -m 'mensaje del commit'", file=sys.stderr)
    print("O: ./git-commit-cursor -m 'mensaje del commit'", file=sys.stderr)
    sys.exit(1)

# Construir comando git con override de user.name y user.email
git_args = [
    "git",
    "-c", f"user.name={CURSOR_NAME}",
    "-c", f"user.email={CURSOR_EMAIL}",
    "commit",
    *args
]

result = subprocess.run(git_args, check=False)
sys.exit(result.returncode)
